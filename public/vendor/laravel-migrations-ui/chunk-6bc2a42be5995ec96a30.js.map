{"version":3,"sources":["webpack:///./resources/js/components/Spinner.vue?ba6b","webpack:///./resources/js/components/Spinner.vue?c71b","webpack:///resources/js/components/Spinner.vue","webpack:///./resources/js/components/Spinner.vue","webpack:///./resources/js/components/MigrationsList.vue?18c1","webpack:///./resources/js/components/MigrationsList.vue?8c0a","webpack:///resources/js/components/MigrationsList.vue","webpack:///./resources/js/components/MigrationsList.vue","webpack:///./resources/js/mixins/refresh.js","webpack:///./resources/js/components/RunButton.vue?2bf7","webpack:///./resources/js/components/RunButton.vue?4674","webpack:///resources/js/components/RunButton.vue","webpack:///./resources/js/components/RunButton.vue","webpack:///./resources/js/components/TablesList.vue?0cf3","webpack:///./resources/js/components/TablesList.vue?bbcd","webpack:///resources/js/components/TablesList.vue","webpack:///./resources/js/components/TablesList.vue","webpack:///./resources/js/components/FreshButton.vue?eff8","webpack:///./resources/js/components/FreshButton.vue?3af6","webpack:///resources/js/components/FreshButton.vue","webpack:///./resources/js/components/FreshButton.vue","webpack:///./resources/js/api.js","webpack:///./resources/js/models/Migration.js","webpack:///./resources/js/models/Model.js","webpack:///./resources/js/stores/migrations.js"],"names":["component","_h","this","$createElement","_self","_c","attrs","faSpinner","_vm","staticClass","staticStyle","faQuestionCircle","_v","migrations","_e","allMigrations","_l","migration","key","name","class","isMissing","_s","date","directives","rawName","value","expression","modifiers","title","relPath","batch","_m","mounted","window","addEventListener","$_refresh_keyDown","destroyed","removeEventListener","methods","event","code","ctrlKey","preventDefault","refresh","style","width","size","variant","running","on","runDefault","scopedSlots","_u","fn","proxy","rollbackSingle","rollbackBatch","rollbackAll","migrateSingle","migrateAll","loading","database","faPlug","connection","faDatabase","tables","table","rows","$event","fresh","seed","api","axios","create","baseURL","document","body","dataset","baseUrl","headers","addResponseToDebugbar","response","phpdebugbar","ajaxHandler","request","handle","interceptors","use","method","toLowerCase","data","_token","csrfToken","error","errors","show","responseURL","Promise","reject","Migration","Object","entries","hasOwnProperty","console","warn","constructor","Vue","migrationDetails","migrationNames","queue","queueRunning","runningFresh","computed","map","load","get","setOverview","getMigration","set","post","loadDetails","fill","filter","isApplied","forEach","push","toasts","html"],"mappings":"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","file":"chunk-6bc2a42be5995ec96a30.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('FontAwesomeIcon',{attrs:{\"icon\":_vm.faSpinner,\"spin\":\"\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"","<script>\n    import {faSpinner} from '@fortawesome/free-solid-svg-icons';\n    import {FontAwesomeIcon} from '@fortawesome/vue-fontawesome';\n\n    export default {\n        components: { FontAwesomeIcon },\n        computed: {\n            faSpinner: () => faSpinner,\n        },\n    }\n</script>\n\n<template>\n    <FontAwesomeIcon :icon=\"faSpinner\" spin></FontAwesomeIcon>\n</template>\n","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=1f4812c2&\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js&\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card shadow-sm my-4\"},[_c('div',{staticClass:\"card-header bg-secondary text-white\",staticStyle:{\"line-height\":\"1.2\",\"padding-left\":\"0.80em\",\"padding-right\":\"0.80em\"}},[_c('a',{staticClass:\"float-right text-white\",attrs:{\"href\":\"https://laravel.com/docs/migrations\",\"target\":\"_blank\"}},[_c('FontAwesomeIcon',{attrs:{\"icon\":_vm.faQuestionCircle}}),_vm._v(\"\\n            Laravel Docs\\n        \")],1),_vm._v(\" \"),_c('h6',{staticClass:\"m-0\"},[_vm._v(\"\\n            Migrations\\n            \"),(_vm.migrations.loading)?_c('Spinner',{staticClass:\"ml-1\"}):_vm._e()],1)]),_vm._v(\" \"),_c('table',{staticClass:\"table table-hover bg-white mb-0\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Date / Time\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Name\")]),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Status\")]),_vm._v(\" \"),_c('th',{staticClass:\"align-middle font-weight-normal text-muted text-right\",attrs:{\"scope\":\"col\"}},[_c('FreshButton',{attrs:{\"size\":\"sm\",\"width\":\"6.5em\"}})],1)])]),_vm._v(\" \"),(_vm.migrations.allMigrations.length)?_c('tbody',_vm._l((_vm.migrations.allMigrations),function(migration){return _c('tr',{key:migration.name,class:migration.isMissing ? 'table-danger' : ''},[_c('td',{staticClass:\"align-middle\"},[(migration.date)?_c('span',[_vm._v(_vm._s(migration.date))]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"(Unknown)\")])]),_vm._v(\" \"),_c('td',{staticClass:\"align-middle\"},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.right\",value:(migration.relPath),expression:\"migration.relPath\",modifiers:{\"right\":true}}],staticClass:\"pr-1\"},[(migration.isMissing)?[_vm._v(\"\\n                            \"+_vm._s(migration.title)+\"\\n                            \"),_c('span',{staticClass:\"badge badge-danger\"},[_vm._v(\"File Missing!\")])]:_c('router-link',{attrs:{\"to\":(\"/migration-details/\" + (migration.name)),\"data-toggle\":\"modal\",\"data-target\":\"#migration-popup\",\"data-path\":migration.relPath}},[_vm._v(\"\\n                            \"+_vm._s(migration.title)+\"\\n                        \")])],2)]),_vm._v(\" \"),_c('td',{staticClass:\"align-middle\"},[(migration.isApplied)?_c('span',{staticClass:\"badge badge-pill badge-success\"},[_vm._v(\"Applied – Batch \"+_vm._s(migration.batch))]):_c('span',{staticClass:\"badge badge-pill badge-warning\"},[_vm._v(\"Pending\")])]),_vm._v(\" \"),_c('td',{staticClass:\"align-middle text-right\"},[_c('RunButton',{attrs:{\"migration\":migration,\"size\":\"sm\",\"width\":\"6.5em\"}})],1)])}),0):(_vm.migrations.loading)?_c('tbody',[_c('tr',[_c('td',{staticClass:\"text-muted\",attrs:{\"colspan\":\"4\"}},[_c('Spinner',{staticClass:\"mr-2\"}),_vm._v(\"\\n                    Loading...\\n                \")],1)])]):_c('tbody',[_vm._m(0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{attrs:{\"colspan\":\"4\"}},[_c('em',{staticClass:\"text-muted\"},[_vm._v(\"No migrations found.\")])])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MigrationsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MigrationsList.vue?vue&type=script&lang=js&\"","<script>\n    import {faQuestionCircle} from '@fortawesome/free-solid-svg-icons';\n    import {FontAwesomeIcon} from '@fortawesome/vue-fontawesome';\n    import {BDropdown, BDropdownDivider, BDropdownItem, VBTooltip} from 'bootstrap-vue';\n    import migrations from '../stores/migrations';\n    import FreshButton from './FreshButton';\n    import RunButton from './RunButton';\n    import Spinner from './Spinner';\n\n    export default {\n        components: { BDropdown, BDropdownItem, BDropdownDivider, RunButton, FontAwesomeIcon, FreshButton, Spinner },\n        directives: { BTooltip: VBTooltip },\n        data() {\n            return {\n                migrations,\n            };\n        },\n        computed: {\n            faQuestionCircle: () => faQuestionCircle,\n        },\n    }\n</script>\n\n<template>\n    <div class=\"card shadow-sm my-4\">\n        <div class=\"card-header bg-secondary text-white\" style=\"line-height: 1.2; padding-left: 0.80em; padding-right: 0.80em;\">\n            <a href=\"https://laravel.com/docs/migrations\" target=\"_blank\" class=\"float-right text-white\">\n                <FontAwesomeIcon :icon=\"faQuestionCircle\"></FontAwesomeIcon>\n                Laravel Docs\n            </a>\n            <h6 class=\"m-0\">\n                Migrations\n                <Spinner v-if=\"migrations.loading\" class=\"ml-1\"></Spinner>\n            </h6>\n        </div>\n        <table class=\"table table-hover bg-white mb-0\">\n\n            <thead>\n                <tr>\n                    <th scope=\"col\">Date / Time</th>\n                    <th scope=\"col\">Name</th>\n                    <th scope=\"col\">Status</th>\n                    <th scope=\"col\" class=\"align-middle font-weight-normal text-muted text-right\">\n                        <!--\n                        <a href=\"#\" class=\"btn btn-sm btn-primary font-weight-bold\" style=\"width: 6em;\">\n                            New\n                        </a>\n                        -->\n                        <FreshButton size=\"sm\" width=\"6.5em\"></FreshButton>\n                    </th>\n                </tr>\n            </thead>\n\n            <tbody v-if=\"migrations.allMigrations.length\">\n                <tr v-for=\"migration in migrations.allMigrations\" :key=\"migration.name\" :class=\"migration.isMissing ? 'table-danger' : ''\">\n\n                    <td class=\"align-middle\">\n                        <span v-if=\"migration.date\">{{ migration.date }}</span>\n                        <span v-else class=\"text-muted\">(Unknown)</span>\n                    </td>\n\n                    <td class=\"align-middle\">\n                        <span v-b-tooltip.right=\"migration.relPath\" class=\"pr-1\">\n                            <template v-if=\"migration.isMissing\">\n                                {{ migration.title }}\n                                <span class=\"badge badge-danger\">File Missing!</span>\n                            </template>\n                            <router-link v-else :to=\"`/migration-details/${migration.name}`\" data-toggle=\"modal\" data-target=\"#migration-popup\" :data-path=\"migration.relPath\">\n                                {{ migration.title }}\n                            </router-link>\n                        </span>\n                    </td>\n\n                    <td class=\"align-middle\">\n                        <span v-if=\"migration.isApplied\" class=\"badge badge-pill badge-success\">Applied &ndash; Batch {{ migration.batch }}</span>\n                        <span v-else class=\"badge badge-pill badge-warning\">Pending</span>\n                    </td>\n\n                    <td class=\"align-middle text-right\">\n                        <RunButton :migration=\"migration\" size=\"sm\" width=\"6.5em\"></RunButton>\n                    </td>\n\n                </tr>\n            </tbody>\n            <tbody v-else-if=\"migrations.loading\">\n                <tr>\n                    <td colspan=\"4\" class=\"text-muted\">\n                        <Spinner class=\"mr-2\"></Spinner>\n                        Loading...\n                    </td>\n                </tr>\n            </tbody>\n            <tbody v-else>\n                <tr>\n                    <td colspan=\"4\">\n                        <em class=\"text-muted\">No migrations found.</em>\n                    </td>\n                </tr>\n            </tbody>\n\n        </table>\n    </div>\n</template>\n","import { render, staticRenderFns } from \"./MigrationsList.vue?vue&type=template&id=5583e1cc&\"\nimport script from \"./MigrationsList.vue?vue&type=script&lang=js&\"\nexport * from \"./MigrationsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n    mounted() {\n        window.addEventListener('keydown', this.$_refresh_keyDown);\n    },\n    destroyed() {\n        window.removeEventListener('keydown', this.$_refresh_keyDown);\n    },\n    methods: {\n        /**\n         * @param event {KeyboardEvent}\n         */\n        $_refresh_keyDown(event) {\n            if (\n                // F5 but not with Ctrl\n                (event.code === 'F5' && !event.ctrlKey) ||\n                // Ctrl-R\n                (event.ctrlKey && event.code === 'KeyR')\n            ) {\n                event.preventDefault();\n                this.refresh();\n            }\n        },\n    },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.migration.isMissing)?_c('BDropdown',{style:({ width: _vm.width }),attrs:{\"right\":\"\",\"size\":_vm.size,\"split\":\"\",\"variant\":_vm.variant,\"disabled\":_vm.migrations.running},on:{\"click\":_vm.runDefault},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [(_vm.migration.running)?_c('Spinner'):(_vm.migration.isMissing)?[_vm._v(\"Fix\")]:(_vm.migration.isApplied)?[_vm._v(\"Rollback\")]:[_vm._v(\"Migrate\")]]},proxy:true}],null,false,3813964681)},[_vm._v(\" \"),(_vm.migration.isMissing)?[_c('BDropdownItem',[_vm._v(\"Recreate File\")]),_vm._v(\" \"),_c('BDropdownItem',[_vm._v(\"Update Filename\")]),_vm._v(\" \"),_c('BDropdownItem',[_vm._v(\"Delete Record\")])]:(_vm.migration.isApplied)?[_c('BDropdownItem',{on:{\"click\":_vm.rollbackSingle}},[_vm._v(\"This Migration\")]),_vm._v(\" \"),_c('BDropdownItem',{on:{\"click\":_vm.rollbackBatch}},[_vm._v(\"Batch \"+_vm._s(_vm.migration.batch))]),_vm._v(\" \"),_c('BDropdownItem',{on:{\"click\":_vm.rollbackAll}},[_vm._v(\"All Migrations\")])]:[_c('BDropdownItem',{on:{\"click\":_vm.migrateSingle}},[_vm._v(\"This Migration\")]),_vm._v(\" \"),_c('BDropdownItem',{on:{\"click\":_vm.migrateAll}},[_vm._v(\"All Pending\")])]],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RunButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RunButton.vue?vue&type=script&lang=js&\"","<script>\n    import {BDropdown, BDropdownDivider, BDropdownItem} from 'bootstrap-vue';\n    import migrations from '../stores/migrations';\n    import Spinner from './Spinner';\n\n    export default {\n        components: { Spinner, BDropdown, BDropdownItem, BDropdownDivider },\n        props: {\n            migration: { type: Object, required: true },\n            size: { type: String, default: '' },\n            width: { type: String, default: undefined },\n        },\n        data() {\n            return {\n                migrations,\n            };\n        },\n        computed: {\n            variant() {\n                if (this.migration.isMissing) {\n                    return 'secondary'; // Grey\n                } else if (this.migration.isApplied) {\n                    return 'danger'; // Red\n                } else {\n                    return 'success'; // Green\n                }\n            },\n        },\n        methods: {\n            migrateAll() {\n                return this.migrations.migrateAll();\n            },\n            migrateSingle() {\n                return this.migrations.migrateSingle(this.migration);\n            },\n            rollbackAll() {\n                return this.migrations.rollbackAll();\n            },\n            rollbackBatch() {\n                return this.migrations.rollbackBatch(this.migration.batch);\n            },\n            rollbackSingle() {\n                return this.migrations.rollbackSingle(this.migration);\n            },\n            runDefault() {\n                if (this.migration.isMissing) {\n                    // TODO\n                } else if (this.migration.isApplied) {\n                    this.rollbackSingle();\n                } else {\n                    this.migrateSingle();\n                }\n            },\n        },\n    }\n</script>\n\n<template>\n    <BDropdown v-if=\"!migration.isMissing\" right :size=\"size\" :style=\"{ width }\" split :variant=\"variant\" :disabled=\"migrations.running\" @click=\"runDefault\">\n\n        <template v-slot:button-content>\n            <Spinner v-if=\"migration.running\"></Spinner>\n            <template v-else-if=\"migration.isMissing\">Fix</template>\n            <template v-else-if=\"migration.isApplied\">Rollback</template>\n            <template v-else>Migrate</template>\n        </template>\n\n        <template v-if=\"migration.isMissing\">\n            <!-- TODO -->\n            <BDropdownItem>Recreate File</BDropdownItem>\n            <BDropdownItem>Update Filename</BDropdownItem>\n            <BDropdownItem>Delete Record</BDropdownItem>\n        </template>\n\n        <template v-else-if=\"migration.isApplied\">\n            <BDropdownItem @click=\"rollbackSingle\">This Migration</BDropdownItem>\n            <BDropdownItem @click=\"rollbackBatch\">Batch {{ migration.batch }}</BDropdownItem>\n            <BDropdownItem @click=\"rollbackAll\">All Migrations</BDropdownItem>\n        </template>\n\n        <template v-else>\n            <BDropdownItem @click=\"migrateSingle\">This Migration</BDropdownItem>\n            <BDropdownItem @click=\"migrateAll\">All Pending</BDropdownItem>\n        </template>\n\n    </BDropdown>\n</template>\n","import { render, staticRenderFns } from \"./RunButton.vue?vue&type=template&id=67513c1c&\"\nimport script from \"./RunButton.vue?vue&type=script&lang=js&\"\nexport * from \"./RunButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card shadow-sm my-4\"},[_c('div',{staticClass:\"card-header bg-secondary text-white\",staticStyle:{\"line-height\":\"1.2\",\"padding-left\":\"0.80em\",\"padding-right\":\"0.80em\"}},[(_vm.migrations.loading && !_vm.migrations.database)?_c('span',{staticClass:\"text-muted\"},[_c('Spinner',{staticClass:\"mr-2\"}),_vm._v(\"\\n            Loading...\\n        \")],1):[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Connection'),expression:\"'Connection'\"}],staticStyle:{\"cursor\":\"default\"}},[_c('FontAwesomeIcon',{staticClass:\"mr-1\",attrs:{\"icon\":_vm.faPlug}}),_vm._v(\"\\n                \"+_vm._s(_vm.migrations.connection)+\"\\n            \")],1),_vm._v(\" \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip\",value:('Database'),expression:\"'Database'\"}],staticClass:\"ml-3\",staticStyle:{\"cursor\":\"default\"}},[_c('FontAwesomeIcon',{staticClass:\"mr-1\",attrs:{\"icon\":_vm.faDatabase}}),_vm._v(\"\\n                \"+_vm._s(_vm.migrations.database)+\"\\n            \")],1)]],2),_vm._v(\" \"),_c('table',{staticClass:\"table table-hover bg-white mb-0\"},[_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"\\n                    Tables\\n                    \"),(_vm.migrations.loading)?_c('Spinner',{staticClass:\"ml-1\"}):_vm._e()],1),_vm._v(\" \"),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"\\n                    Rows\\n                \")])])]),_vm._v(\" \"),(_vm.migrations.tables.length)?_c('tbody',_vm._l((_vm.migrations.tables),function(table){return _c('tr',[_c('td',{staticClass:\"align-middle\"},[_vm._v(\"\\n                    \"+_vm._s(table.name)+\"\\n                \")]),_vm._v(\" \"),_c('td',{staticClass:\"align-middle\"},[_vm._v(\"\\n                    \"+_vm._s(table.rows)+\"\\n                \")])])}),0):(_vm.migrations.loading)?_c('tbody',[_c('tr',[_c('td',{staticClass:\"text-muted\",attrs:{\"colspan\":\"4\"}},[_c('Spinner'),_vm._v(\"\\n                    Loading...\\n                \")],1)])]):_c('tbody',[_vm._m(0)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{attrs:{\"colspan\":\"1\"}},[_c('em',{staticClass:\"text-muted\"},[_vm._v(\"No tables found.\")])])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TablesList.vue?vue&type=script&lang=js&\"","<script>\n    import {faDatabase, faPlug} from '@fortawesome/free-solid-svg-icons';\n    import {FontAwesomeIcon} from '@fortawesome/vue-fontawesome';\n    import {VBTooltip} from 'bootstrap-vue';\n    import migrations from '../stores/migrations';\n    import Spinner from './Spinner';\n\n    export default {\n        components: { Spinner, FontAwesomeIcon },\n        directives: { BTooltip: VBTooltip },\n        data() {\n            return {\n                migrations,\n            };\n        },\n        computed: {\n            faPlug: () => faPlug,\n            faDatabase: () => faDatabase,\n        },\n    }\n</script>\n\n<template>\n    <div class=\"card shadow-sm my-4\">\n        <div class=\"card-header bg-secondary text-white\" style=\"line-height: 1.2; padding-left: 0.80em; padding-right: 0.80em;\">\n            <!--<div class=\"float-right\" style=\"margin: -6px 0;\">\n            <span data-toggle=\"modal\" data-target=\"#exampleModal2\">\n                <button class=\"btn btn-sm btn-dark\" v-b-tooltip=\"Switch Database\">\n                    <i class=\"fas fa-fw fa-database\" aria-hidden=\"true\"></i>\n                </button>\n            </span>\n            </div>-->\n            <!--<span data-toggle=\"modal\" data-target=\"#exampleModal2\">-->\n            <span v-if=\"migrations.loading && !migrations.database\" class=\"text-muted\">\n                <Spinner class=\"mr-2\"></Spinner>\n                Loading...\n            </span>\n            <template v-else>\n                <span style=\"cursor: default;\" v-b-tooltip=\"'Connection'\">\n                    <FontAwesomeIcon :icon=\"faPlug\" class=\"mr-1\"></FontAwesomeIcon>\n                    {{ migrations.connection }}\n                </span>\n                <span style=\"cursor: default;\" v-b-tooltip=\"'Database'\" class=\"ml-3\">\n                    <FontAwesomeIcon :icon=\"faDatabase\" class=\"mr-1\"></FontAwesomeIcon>\n                    {{ migrations.database }}\n                </span>\n            </template>\n            <!--</span>-->\n        </div>\n        <table class=\"table table-hover bg-white mb-0\">\n            <thead>\n                <tr>\n                    <th scope=\"col\">\n                        Tables\n                        <Spinner v-if=\"migrations.loading\" class=\"ml-1\"></Spinner>\n                    </th>\n                    <th scope=\"col\">\n                        Rows\n                    </th>\n                    <!--<th scope=\"col\" class=\"align-middle font-weight-normal text-muted text-right\">\n                    <button class=\"btn btn-sm btn-primary\" v-b-tooltip=\"New Migration: Create Table\">\n                        <i class=\"fas fa-fw fa-plus\" aria-hidden=\"true\"></i>\n                    </button>\n                </th>-->\n                </tr>\n            </thead>\n            <tbody v-if=\"migrations.tables.length\">\n                <tr v-for=\"table in migrations.tables\">\n                    <td class=\"align-middle\">\n                        <!--<a href=\"#\">{{ table }}</a>-->\n                        {{ table.name }}\n                    </td>\n                    <td class=\"align-middle\">\n                        {{ table.rows }}\n                    </td>\n                    <!--<td class=\"align-middle text-right\">\n                    <button class=\"btn btn-sm btn-success\" v-b-tooltip=\"View Structure\">\n                        <i class=\"fas fa-fw fa-search\" aria-hidden=\"true\"></i>\n                    </button>\n                    <button class=\"btn btn-sm btn-warning\" v-b-tooltip=\"New Migration: Modify\">\n                        <i class=\"fas fa-fw fa-pen\" aria-hidden=\"true\"></i>\n                    </button>\n                    <button class=\"btn btn-sm btn-secondary\" v-b-tooltip=\"New Migration: Rename\">\n                        <i class=\"fas fa-fw fa-i-cursor\" aria-hidden=\"true\"></i>\n                    </button>\n                    <button class=\"btn btn-sm btn-danger\" v-b-tooltip=\"New Migration: Drop\">\n                        <i class=\"fas fa-fw fa-trash\" aria-hidden=\"true\"></i>\n                    </button>\n                    </td>-->\n                </tr>\n            </tbody>\n            <tbody v-else-if=\"migrations.loading\">\n                <tr>\n                    <td colspan=\"4\" class=\"text-muted\">\n                        <Spinner></Spinner>\n                        Loading...\n                    </td>\n                </tr>\n            </tbody>\n            <tbody v-else>\n                <tr>\n                    <td colspan=\"1\"><em class=\"text-muted\">No tables found.</em></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</template>\n","import { render, staticRenderFns } from \"./TablesList.vue?vue&type=template&id=291ed976&\"\nimport script from \"./TablesList.vue?vue&type=script&lang=js&\"\nexport * from \"./TablesList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BDropdown',{style:({ width: _vm.width }),attrs:{\"right\":\"\",\"size\":_vm.size,\"split\":\"\",\"variant\":\"warning\",\"disabled\":_vm.migrations.running},on:{\"click\":function($event){return _vm.migrations.fresh(true)}},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [(_vm.migrations.runningFresh)?_c('Spinner'):[_vm._v(\"Fresh\")]]},proxy:true}])},[_vm._v(\" \"),_c('BDropdownItem',{on:{\"click\":function($event){return _vm.migrations.fresh(false)}}},[_vm._v(\"\\n        Fresh\\n        \"),_c('small',{staticClass:\"d-block text-muted\"},[_vm._v(\"Drop tables & run all migrations\")])]),_vm._v(\" \"),_c('BDropdownItem',{on:{\"click\":function($event){return _vm.migrations.fresh(true)}}},[_vm._v(\"\\n        Fresh + Seed \"),_c('small',{staticClass:\"text-muted\"},[_vm._v(\"(Default)\")])]),_vm._v(\" \"),_c('BDropdownDivider'),_vm._v(\" \"),_c('BDropdownItem',{on:{\"click\":function($event){return _vm.migrations.refresh(false)}}},[_vm._v(\"\\n        Refresh\\n        \"),_c('small',{staticClass:\"d-block text-muted\"},[_vm._v(\"Rollback & re-run all migrations\")])]),_vm._v(\" \"),_c('BDropdownItem',{on:{\"click\":function($event){return _vm.migrations.refresh(true)}}},[_vm._v(\"\\n        Refresh + Seed\\n    \")]),_vm._v(\" \"),_c('BDropdownDivider'),_vm._v(\" \"),_c('BDropdownItem',{on:{\"click\":function($event){return _vm.migrations.seed()}}},[_vm._v(\"\\n        Seed only\\n    \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreshButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FreshButton.vue?vue&type=script&lang=js&\"","<script>\n    import {BDropdown, BDropdownItem, BDropdownDivider} from 'bootstrap-vue';\n    import migrations from '../stores/migrations';\n    import Spinner from './Spinner';\n\n    export default {\n        components: { Spinner, BDropdown, BDropdownItem, BDropdownDivider },\n        props: {\n            size: { type: String, default: '' },\n            width: { type: String, default: undefined },\n        },\n        data() {\n            return {\n                migrations,\n            };\n        },\n    }\n</script>\n\n<template>\n    <BDropdown right :size=\"size\" :style=\"{ width }\" split variant=\"warning\" :disabled=\"migrations.running\" @click=\"migrations.fresh(true)\">\n\n        <template v-slot:button-content>\n            <Spinner v-if=\"migrations.runningFresh\"></Spinner>\n            <template v-else>Fresh</template>\n        </template>\n\n        <BDropdownItem @click=\"migrations.fresh(false)\">\n            Fresh\n            <small class=\"d-block text-muted\">Drop tables &amp; run all migrations</small>\n        </BDropdownItem>\n\n        <BDropdownItem @click=\"migrations.fresh(true)\">\n            Fresh + Seed <small class=\"text-muted\">(Default)</small>\n        </BDropdownItem>\n\n        <BDropdownDivider></BDropdownDivider>\n\n        <BDropdownItem @click=\"migrations.refresh(false)\">\n            Refresh\n            <small class=\"d-block text-muted\">Rollback &amp; re-run all migrations</small>\n        </BDropdownItem>\n\n        <BDropdownItem @click=\"migrations.refresh(true)\">\n            Refresh + Seed\n        </BDropdownItem>\n\n        <BDropdownDivider></BDropdownDivider>\n\n        <BDropdownItem @click=\"migrations.seed()\">\n            Seed only\n        </BDropdownItem>\n\n    </BDropdown>\n</template>\n","import { render, staticRenderFns } from \"./FreshButton.vue?vue&type=template&id=a34b94c2&\"\nimport script from \"./FreshButton.vue?vue&type=script&lang=js&\"\nexport * from \"./FreshButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios';\nimport errors from './stores/errors';\n\nconst api = axios.create({\n    baseURL: document.body.dataset.baseUrl + '/api',\n    headers: {\n        // Stop Laravel converting exceptions to JSON\n        'Accept': 'text/html',\n    },\n});\n\napi.interceptors.request.use(function (request) {\n    // Automatically add CSRF token\n    if (request.method.toLowerCase() !== 'get' && typeof request.data === 'object') {\n        request.data._token = document.body.dataset.csrfToken;\n    }\n\n    return request;\n});\n\n// Debugbar integration - https://github.com/barryvdh/laravel-debugbar/issues/674\n// Not currently working because of the Accept header above... Not sure how to resolve that...\nfunction addResponseToDebugbar(response) {\n    if (phpdebugbar && phpdebugbar.ajaxHandler && response.request) {\n        phpdebugbar.ajaxHandler.handle(response.request);\n    }\n}\n\napi.interceptors.response.use(\n    function (response) {\n        addResponseToDebugbar(response);\n        return response;\n    },\n    function (error) {\n\n        // Display the full HTML error in a popup window\n        if (error.response) {\n            errors.show(`Error in ${error.request.responseURL}`, error.response.data);\n            addResponseToDebugbar(error.response);\n        }\n\n        return Promise.reject(error);\n    },\n);\n\nexport default api;\n","import Model from './Model';\n\nexport default class Migration extends Model\n{\n    date = null;\n    title = null;\n    batch = null;\n    relPath = null;\n    source = null;\n    loading = false;\n    running = false;\n\n    constructor(name) {\n        super();\n\n        this.name = name;\n    }\n\n    get isApplied() {\n        return this.batch !== null;\n    }\n\n    get isMissing() {\n        return this.relPath === null;\n    }\n}\n","/**\n * @abstract\n */\nexport default class Model\n{\n    fill(data) {\n        for (let [key, value] of Object.entries(data)) {\n            if (this.hasOwnProperty(key)) {\n                this[key] = value;\n            } else {\n                console.warn(this.constructor.name, 'fill(): ignoring unknown key', key, 'in', data, 'when updating', this);\n            }\n        }\n    }\n}\n","import Vue from 'vue';\nimport api from '../api';\nimport Migration from '../models/Migration';\nimport errors from './errors';\nimport toasts from './toasts';\n\nexport default new Vue({\n    data() {\n        return {\n            connection: null,\n            database: null,\n            loading: false,\n            migrationDetails: {},\n            migrationNames: [],\n            queue: [],\n            queueRunning: false,\n            running: false,\n            runningFresh: false,\n            tables: [],\n        };\n    },\n    computed: {\n        allMigrations() {\n            return this.migrationNames.map(name => this.migrationDetails[name]);\n        },\n    },\n    methods: {\n        async load() {\n            this.loading = true;\n\n            try {\n                const response = await api.get('list');\n                this.setOverview(response.data);\n            } finally {\n                this.loading = false;\n            }\n        },\n        getMigration(name) {\n            if (!(name in this.migrationDetails)) {\n                Vue.set(this.migrationDetails, name, new Migration(name));\n            }\n\n            return this.migrationDetails[name];\n        },\n        async fresh(seed) {\n            this.running = true;\n            this.runningFresh = true;\n\n            try {\n                const response = await api.post('fresh', { seed });\n                this.setOverview(response.data);\n            } finally {\n                this.running = false;\n                this.runningFresh = false;\n            }\n        },\n        async loadDetails(name) {\n            const migration = this.getMigration(name);\n\n            migration.loading = true;\n\n            try {\n                const response = await api.get(`migration-details/${name}`);\n                migration.fill(response.data);\n            } finally {\n                migration.loading = false;\n            }\n        },\n        async refresh(seed) {\n            this.running = true;\n            this.runningFresh = true;\n\n            try {\n                const response = await api.post('refresh', { seed });\n                this.setOverview(response.data);\n            } finally {\n                this.running = false;\n                this.runningFresh = false;\n            }\n        },\n        async seed() {\n            this.running = true;\n            this.runningFresh = true;\n\n            try {\n                const response = await api.post('seed');\n                this.setOverview(response.data);\n            } finally {\n                this.running = false;\n                this.runningFresh = false;\n            }\n        },\n        async migrateAll() {\n            const migrations = this.allMigrations.filter(migration => !migration.isApplied);\n\n            this.running = true;\n            migrations.forEach(migration => migration.running = true);\n\n            try {\n                const response = await api.post('migrate-all');\n                this.setOverview(response.data);\n            } finally {\n                this.running = false;\n                migrations.forEach(migration => migration.running = false);\n            }\n        },\n        async migrateSingle(migration) {\n            this.running = true;\n            migration.running = true;\n\n            try {\n                const response = await api.post(`migrate-single/${migration.name}`);\n                this.setOverview(response.data);\n            } finally {\n                this.running = false;\n                migration.running = false;\n            }\n        },\n        async rollbackAll() {\n            const migrations = this.allMigrations.filter(migration => migration.isApplied);\n\n            this.running = true;\n            migrations.forEach(migration => migration.running = true);\n\n            try {\n                const response = await api.post('rollback-all');\n                this.setOverview(response.data);\n            } finally {\n                this.running = false;\n                migrations.forEach(migration => migration.running = false);\n            }\n        },\n        async rollbackBatch(batch) {\n            const migrations = this.allMigrations.filter(migration => migration.batch === batch);\n\n            this.running = true;\n            migrations.forEach(migration => migration.running = true);\n\n            try {\n                const response = await api.post(`rollback-batch/${batch}`);\n                this.setOverview(response.data);\n            } finally {\n                this.running = false;\n                migrations.forEach(migration => migration.running = false);\n            }\n        },\n        async rollbackSingle(migration) {\n            this.running = true;\n            migration.running = true;\n\n            try {\n                const response = await api.post(`rollback-single/${migration.name}`);\n                this.setOverview(response.data);\n            } finally {\n                this.running = false;\n                migration.running = false;\n            }\n        },\n        setOverview(data) {\n            this.connection = data.connection;\n            this.database = data.database;\n            this.tables = data.tables;\n\n            // Split the migrations list into a list of names and a map of details\n            let migrationNames = [];\n\n            for (let migration of data.migrations) {\n                migrationNames.push(migration.name);\n                this.getMigration(migration.name).fill(migration);\n            }\n\n            this.migrationNames = migrationNames;\n\n            // Display any toast messages attached to the data\n            if (data.toasts) {\n                toasts.show(data.toasts);\n            }\n\n            // If it failed, show the error message\n            if (data.error) {\n                errors.show(data.error.title, data.error.html);\n            }\n        },\n    },\n});\n"],"sourceRoot":""}